**Цели занятия** 

научиться представлять сложность выбора той или иной технологии кластеризации и отказоустойчивости Postgres;   
лучше представлять, чем мы будем заниматься на курсе;   

**Краткое содержание** 

где мы были и где сейчас;   
выбор и PostgreSQL;   
случай из жизни;   
программа курса.   

**Результаты** 

осознанно развивать востребованные навыки с точки зрения разных технологий Постгреса и облачных сервисов.   

**Преподаватель** 

Виктор Коробков   
 

**Домашнее задание** 

Работа с уровнями изоляции транзакции в PostgreSQL   
**Цель:** 

* научиться работать с Google Cloud Platform на уровне Google Compute Engine (IaaS) /ЯО   
* научиться управлять уровнем изолции транзации в PostgreSQL и понимать особенность работы уровней read commited и repeatable read 

 

**Описание/Пошаговая инструкция выполнения домашнего задания:** 

* создать новый проект в Яндекс облако или на любых ВМ, например postgres2024-, где yyyymmdd год, месяц и день вашего рождения (имя проекта должно быть уникально)   
* далее создать инстанс виртуальной машины с дефолтными параметрами \- 1-2 ядра, 2-4Гб памяти, любой линукс, на курсе Ubuntu 100%   
* добавить свой ssh ключ   
* зайти удаленным ssh (первая сессия), не забывайте про ssh-add   
* поставить PostgreSQL из пакетов apt install   
* зайти вторым ssh (вторая сессия)   
* запустить везде psql из под пользователя postgres   
* выключить auto commit   
* сделать в первой сессии новую таблицу и наполнить ее данными   
  create table persons(id serial, first\_name text, second\_name text);   
  insert into persons(first\_name, second\_name) values('ivan', 'ivanov');   
  insert into persons(first\_name, second\_name) values('petr', 'petrov');   
  commit;   
* посмотреть текущий уровень изоляции: show transaction isolation level   
* начать новую транзакцию в обоих сессиях с дефолтным (не меняя) уровнем изоляции   
* в первой сессии добавить новую запись   
  insert into persons(first\_name, second\_name) values('sergey', 'sergeev');   
* сделать select \* from persons во второй сессии   
* видите ли вы новую запись и если да то почему?   
* завершить первую транзакцию \- commit;   
* сделать select \* from persons во второй сессии   
* видите ли вы новую запись и если да то почему?   
* завершите транзакцию во второй сессии   
* начать новые но уже repeatable read транзакции \- set transaction isolation level repeatable read;   
* в первой сессии добавить новую запись   
  insert into persons(first\_name, second\_name) values('sveta', 'svetova');   
* сделать select \* from persons во второй сессии   
* видите ли вы новую запись и если да то почему?   
* завершить первую транзакцию \- commit;   
* сделать select \* from persons во второй сессии   
* видите ли вы новую запись и если да то почему?   
* завершить вторую транзакцию   
* сделать select \* from persons во второй сессии   
* видите ли вы новую запись и если да то почему?   
  ДЗ сдаем в виде миниотчета в markdown в гите 
